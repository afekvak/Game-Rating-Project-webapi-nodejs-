<%- include('partials/head') %>

<body>
<%- include('partials/navbar') %>

<div class="profile-wrapper">
    <!-- üë§ ◊§◊®◊ò◊ô ◊û◊©◊™◊û◊© ◊¢◊ô◊ß◊®◊ô◊ô◊ù -->
    <div class="profile-header">
        <div class="profile-image-container">
            <img src="<%= user.profilePicture || '/images/default-profile.png' %>" class="profile-picture">
        </div>

        <div class="profile-details">
            <h2><%= user.username %>'s Profile</h2>
            <p><strong>‚≠ê Favorite Genre:</strong> <%= user.favoriteGenre || "Not provided" %></p>
            <a href="/profile/edit" class="edit-profile-btn">‚úèÔ∏è Edit Profile</a>
        </div>

        <div class="future-box">
            <h4>üîÆ Coming Soon</h4>
        </div>
    </div>

    <div class="profile-content">
        <!-- üéÆ ◊û◊©◊ó◊ß◊ô◊ù ◊ê◊ó◊®◊ï◊†◊ô◊ù -->
        <div class="profile-showcase">
            <h3>üéÆ Last Viewed Games</h3>
            <% if (user.recentGames && user.recentGames.length > 0) { %>
                <ul class="showcase-list">
                    <% user.recentGames.forEach(game => { %>
                        <li>
                            <a href="/games/game-info/<%= game.rawgId %>">
                                <img src="<%= game.image %>" alt="Game">
                            </a>
                        </li>
                    <% }); %>
                </ul>
            <% } else { %>
                <p>No recently viewed games</p>
            <% } %>

            <!-- ‚≠ê ◊ì◊ô◊®◊ï◊í◊ô◊ù -->
            <div class="top-ratings">
                <h3>‚≠ê Top Ratings</h3>
                <ul>
                    <% ratings.slice(0, 5).forEach(rating => { %>
                        <li><strong><%= rating.gameName %>:</strong> ‚≠ê <%= rating.rating %></li>
                    <% }); %>
                </ul>
            </div>
        </div>

        <!-- üìã ◊°◊ô◊ô◊ì◊ë◊® -->
        <div class="profile-sidebar">
            <ul>
                <li><a href="/profile/ratings">All Ratings</a></li>
                <li><a href="/profile/comments">All Comments</a></li>
                <li class="empty-link"></li>
                <li class="empty-link"></li>
                <li class="empty-link"></li>
                <li class="empty-link"></li>
            </ul>
        </div>
    </div>

    <!-- üí¨ ◊™◊í◊ï◊ë◊ï◊™ -->
    <div class="profile-comments">
        <h3>üí¨ Comments from other users</h3>
        <p>üöß Feature coming soon!</p>
    </div>
</div>

<%- include('partials/footer') %>
</body>
